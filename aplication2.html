<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Men√∫ - Luifer Fast Food</title>
    <style>
        :root { --red: #FF0000; --yellow: #FFC72C; --green: #25D366; --dark: #1a1a1a; --gray: #f4f4f4; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #f8f9fa; padding-bottom: 120px; }
        
        /* Navegaci√≥n */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background: white; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .btn-volver { text-decoration: none; color: var(--red); font-weight: bold; border: 1px solid var(--red); padding: 5px 12px; border-radius: 15px; font-size: 0.8rem; }
        
        /* Categor√≠as */
        .categories { display: flex; gap: 10px; overflow-x: auto; padding: 15px 20px; scrollbar-width: none; }
        .categories::-webkit-scrollbar { display: none; }
        .cat-item { background: white; padding: 8px 18px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; box-shadow: 0 2px 5px rgba(0,0,0,0.05); white-space: nowrap; border: 1px solid #eee; cursor: pointer; }
        .cat-item.active { background: var(--red); color: white; border-color: var(--red); }
        
        /* Grid */
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; padding: 0 20px; }
        .card { background: white; border-radius: 18px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: 0.3s; }
        .card img { width: 100%; height: 130px; object-fit: cover; }
        .card-info { padding: 10px; }
        .card-info h3 { margin: 0; font-size: 0.9rem; height: 35px; overflow: hidden; }
        .price { color: var(--red); font-weight: 700; font-size: 1.1rem; margin: 5px 0; display: block; }
        
        /* Botones */
        .btn-add { background: var(--dark); color: white; border: none; padding: 10px; width: 100%; border-radius: 12px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn-add:active { transform: scale(0.95); }

        /* Barra Carrito */
        .cart-bar { position: fixed; bottom: 20px; left: 15px; right: 15px; background: var(--dark); color: white; padding: 15px 20px; border-radius: 25px; display: none; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 200; }
        .cart-info-text { display: flex; flex-direction: column; }
        .btn-clear { background: none; border: none; color: #aaa; font-size: 10px; text-decoration: underline; padding: 0; text-align: left; cursor: pointer; }
        .btn-order { background: var(--green); color: white; padding: 12px 20px; border-radius: 15px; text-decoration: none; font-weight: bold; font-size: 0.9rem; }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="btn-volver">‚Üê VOLVER</a>
    <strong style="font-size: 0.9rem;">LUIFER MENU</strong>
    <span id="status-tag" style="font-size: 0.7rem; padding: 4px 8px; border-radius: 10px; background: #eee;">Verificando...</span>
</header>

<div class="categories">
    <div class="cat-item active" onclick="filterMenu('todos', this)">Todos</div>
    <div class="cat-item" onclick="filterMenu('burger', this)">Hamburguesas</div>
    <div class="cat-item" onclick="filterMenu('papas', this)">Papas</div>
    <div class="cat-item" onclick="filterMenu('bebida', this)">Bebidas</div>
</div>

<div class="menu-grid">
    <div class="card item-card burger">
        <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400">
        <div class="card-info">
            <h3>Burger Luifer</h3>
            <span class="price">6,50 ‚Ç¨</span>
            <button class="btn-add" onclick="addToCart('Burger Luifer', 6.50, this)">+ A√±adir</button>
        </div>
    </div>

    <div class="card item-card papas">
        <img src="https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400">
        <div class="card-info">
            <h3>Papas Supremas</h3>
            <span class="price">3,50 ‚Ç¨</span>
            <button class="btn-add" onclick="addToCart('Papas Supremas', 3.50, this)">+ A√±adir</button>
        </div>
    </div>

    <div class="card item-card bebida">
        <img src="https://images.unsplash.com/photo-1554866585-cd94860890b7?w=400">
        <div class="card-info">
            <h3>Coca-Cola 33cl</h3>
            <span class="price">2,00 ‚Ç¨</span>
            <button class="btn-add" onclick="addToCart('Coca-Cola 33cl', 2.00, this)">+ A√±adir</button>
        </div>
    </div>
</div>

<div class="cart-bar" id="cart-bar">
    <div class="cart-info-text">
        <button class="btn-clear" onclick="clearCart()">Vaciar carrito</button>
        <strong>Total: <span id="cart-total">0,00</span> ‚Ç¨</strong>
    </div>
    <a href="#" class="btn-order" onclick="sendWhatsApp()">PEDIR ( <span id="cart-count">0</span> )</a>
</div>

<script>
    let cart = [];
    let total = 0;

    // 1. Filtrado de Categor√≠as
    function filterMenu(cat, el) {
        document.querySelectorAll('.cat-item').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        document.querySelectorAll('.item-card').forEach(card => {
            card.style.display = (cat === 'todos' || card.classList.contains(cat)) ? 'block' : 'none';
        });
    }

    // 2. A√±adir con Feedback
    function addToCart(name, price, btn) {
        cart.push(name);
        total += price;
        updateUI();
        
        // Feedback visual
        const prevText = btn.innerText;
        btn.innerText = "‚úÖ A√±adido";
        btn.style.background = "var(--green)";
        setTimeout(() => { 
            btn.innerText = prevText; 
            btn.style.background = "var(--dark)"; 
        }, 700);
    }

    function updateUI() {
        document.getElementById('cart-total').innerText = total.toFixed(2).replace('.', ',');
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('cart-bar').style.display = cart.length > 0 ? 'flex' : 'none';
    }

    function clearCart() {
        if(confirm("¬øVaciar el pedido?")) {
            cart = []; total = 0; updateUI();
        }
    }

    // 3. WhatsApp Inteligente
    function sendWhatsApp() {
        const entrega = confirm("¬øEs para entregar a DOMICILIO?\n(Aceptar = Domicilio / Cancelar = Recoger)");
        const tipo = entrega ? "ENTREGA A DOMICILIO" : "RECOGER EN LOCAL";
        
        let counts = {};
        cart.forEach(x => counts[x] = (counts[x] || 0) + 1);
        
        let msg = `*NUEVO PEDIDO - ${tipo}*%0A--------------------------%0A`;
        for(let item in counts) { msg += `${counts[item]}x ${item}%0A`; }
        msg += `--------------------------%0A*TOTAL: ${total.toFixed(2)} ‚Ç¨*`;
        
        if(entrega) {
            const dir = prompt("Por favor, introduce tu direcci√≥n en Torrijos:");
            if(!dir) return;
            msg += `%0A%0Aüìç *Direcci√≥n:* ${dir}`;
        }

        window.open(`https://wa.me/34655990610?text=${msg}`, '_blank');
    }

    // 4. Reloj de estado (Abierto/Cerrado)
    function checkStatus() {
        const now = new Date();
        const hour = now.getHours();
        const min = now.getMinutes();
        const time = hour + min/60;
        const tag = document.getElementById('status-tag');
        if(time >= 19 && time <= 23.5) {
            tag.innerText = "‚óè ABIERTO"; tag.style.color = "var(--green)";
        } else {
            tag.innerText = "‚óã CERRADO (Abre 19:00)"; tag.style.color = "red";
        }
    }
    checkStatus();
</script>
</body>
</html>
